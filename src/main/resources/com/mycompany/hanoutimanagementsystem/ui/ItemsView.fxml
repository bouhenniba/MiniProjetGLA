<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<ScrollPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.mycompany.hanoutimanagementsystem.ui.ItemsViewController"
            fitToWidth="true" style="-fx-background-color: transparent;">
    
    <VBox spacing="20">
        <padding>
            <Insets top="25" right="25" bottom="25" left="25"/>
        </padding>
        
        <!-- قسم الإدخال العلوي -->
        <VBox spacing="18" styleClass="input-section">
            <padding>
                <Insets top="25" right="25" bottom="25" left="25"/>
            </padding>
            
            <!-- عنوان القسم -->
            <Label text="إدارة الأصناف - Items Management" styleClass="section-title"/>
            
            <!-- حقول الإدخال -->
            <GridPane hgap="18" vgap="15">
                <columnConstraints>
                    <ColumnConstraints minWidth="100" prefWidth="120" />
                    <ColumnConstraints minWidth="150" prefWidth="200" />
                    <ColumnConstraints minWidth="100" prefWidth="120" />
                    <ColumnConstraints minWidth="150" prefWidth="200" />
                </columnConstraints>
                
                <!-- رقم SKU -->
                <Label text="رقم SKU:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <TextField fx:id="skuField" promptText="أدخل رقم SKU" 
                          GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <!-- الاسم -->
                <Label text="الاسم / Name:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                <TextField fx:id="nameField" promptText="اسم الصنف" 
                          GridPane.columnIndex="3" GridPane.rowIndex="0"/>
                
                <!-- الكمية -->
                <Label text="الكمية / Stock:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <TextField fx:id="stockField" promptText="الكمية" 
                          GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <!-- ✅ السعر - حقل جديد -->
                <Label text="السعر / Price:" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                <TextField fx:id="priceField" promptText="السعر (مثال: 99.99)" 
                          GridPane.columnIndex="3" GridPane.rowIndex="1"/>
                
                <!-- القسم -->
                <Label text="القسم / Section:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <ComboBox fx:id="sectionComboBox" promptText="اختر القسم (إجباري)" 
                         GridPane.columnIndex="1" GridPane.rowIndex="2" maxWidth="Infinity"/>
            </GridPane>
            
            <!-- أزرار العمليات -->
            <HBox spacing="15" alignment="CENTER_LEFT">
                <Button fx:id="addButton" text="إضافة / Add" onAction="#handleAdd" 
                       styleClass="primary-button" prefWidth="120"/>
                <Button fx:id="updateButton" text="تحديث / Update" onAction="#handleUpdate" 
                       styleClass="primary-button" prefWidth="120"/>
                <Button fx:id="deleteButton" text="حذف / Delete" onAction="#handleDelete" 
                       styleClass="danger-button" prefWidth="120"/>
                <Button fx:id="clearButton" text="مسح / Clear" onAction="#handleClear" 
                       prefWidth="120"/>
            </HBox>
        </VBox>
        
        <!-- شريط البحث والفلترة -->
        <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-padding: 0 8 0 8;">
            <Label text="بحث:" style="-fx-font-weight: bold; -fx-font-size: 15px;"/>
            <TextField fx:id="searchField" promptText="ابحث بالاسم أو SKU" 
                      prefWidth="280" onKeyReleased="#handleSearch"/>
                      
            <Region HBox.hgrow="ALWAYS"/>
            
            <Label text="فلتر حسب القسم:" style="-fx-font-weight: bold; -fx-font-size: 15px;"/>
            <ComboBox fx:id="filterSectionComboBox" promptText="كل الأقسام" 
                     prefWidth="200" onAction="#handleFilterBySection"/>
            <Button text="تحديث" onAction="#handleRefresh" prefWidth="110"/>
        </HBox>
        
        <!-- جدول الأصناف -->
        <TableView fx:id="itemsTable" styleClass="data-table" 
                   VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="skuColumn" text="SKU" prefWidth="100"/>
                <TableColumn fx:id="nameColumn" text="الاسم / Name" prefWidth="250"/>
                <TableColumn fx:id="stockColumn" text="الكمية" prefWidth="100"/>
                <TableColumn fx:id="priceColumn" text="السعر / Price" prefWidth="120"/>
                <TableColumn fx:id="sectionColumn" text="القسم" prefWidth="200"/>
            </columns>
            <placeholder>
                <Label text="لا توجد أصناف - No items found" style="-fx-font-size: 16px;"/>
            </placeholder>
        </TableView>
        
    </VBox>
</ScrollPane>